@using NuWebNCloud.Shared.Utilities;
@model  NuWebNCloud.Shared.Models.Settings.StoreModelView
    @{ 
        var user = Session["User"] as NuWebNCloud.Shared.Models.UserSession;
    }
<div class="table-responsive">
    <div class="x_panel">
        <div class="x_title">
            <h2>@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Store Information"))</h2>
            <div class="clearfix"></div>
        </div>


        <div class="x_content">
            <div class="row">
                @if (Model.List_Store_Group != null)
                {
                    foreach (var itemComp in Model.List_Store_Group)
                    {
                        if (user.POSInstanceVersion.HasValue)
                        {
                            <div class="form-group">
                                <div class="text-left col-md-3 col-sm-3 col-xs-3">
                                    <h2>@Html.Raw(itemComp.CompanyName)</h2>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="text-left col-md-9 col-sm-9 col-xs-9 ">
                                    <a href="javascript:void(0)"
                                       onclick="ShowView('@Url.Action("View", "SCompany", new { id = itemComp.CompanyId })')"
                                       class="btn btn-primary btn-xs view details"><i class="fa fa-eye"></i>&nbsp;@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("View"))</a>
                                    <a href="javascript:void(0)"
                                       onclick="ShowView('@Url.Action("Edit", "SCompany", new { id = itemComp.CompanyId })')"
                                       class="btn btn-info btn-xs edit details"><i class="fa fa-edit"></i>&nbsp;@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Edit"))</a>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                        }

                        if (itemComp.List_Store != null)
                        {
                            for (int i = 0; i < itemComp.List_Store.Count; i++)
                            {
                                var item = itemComp.List_Store[i];
                                var w100 = "";
                                var disNone = "";
                                if (string.IsNullOrEmpty(item.ImageURL))
                                {
                                    w100 = "width:100%";
                                    disNone = "display:none";
                                }
                               
                                <div class="col-md-4 col-sm-4 col-xs-12 profile_details">
                                    <div class="well profile_view" style="width:100%">
                                        <div class="col-sm-12">
                                            <h4 class="brief" style="color:#34495e;"><i>@item.OrganizationName</i></h4>
                                            <div class="left col-xs-7" style="@w100">
                                                <h2 style="color:#34495e;">@item.Name</h2>
                                                <p>
                                                    <strong>@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Status")) : </strong>
                                                    @if (item.IsActive)
                                                    {
                                                        @Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Active"))
                                                    }
                                                    else
                                                    {
                                                        @Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("InActive"))
                                                    }
                                                </p>
                                                <p><strong>@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Company")) : </strong> @item.CompanyName </p>
                                                <p><strong>@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Industry")) :</strong> @item.IndustryName </p>
                                                <ul class="list-unstyled">
                                                    <li><i class="fa fa-building"></i>@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Street")) : @item.Street </li>
                                                    <li><i class="fa fa-phone"></i> @Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Phone")) : @item.Phone</li>
                                                </ul>
                                            </div>
                                            <div class="right col-xs-5 text-center" style="@disNone">
                                                <img src="@item.ImageURL" alt="" class="img-circle img-responsive">
                                            </div>
                                        </div>
                                        <div class="col-xs-12 bottom text-center">
                                            @*<div class="col-xs-12 col-sm-6 emphasis">
                                        <p class="ratings">
                                            <a>4.0</a>
                                            <a href="#"><span class="fa fa-star"></span></a>
                                            <a href="#"><span class="fa fa-star"></span></a>
                                            <a href="#"><span class="fa fa-star"></span></a>
                                            <a href="#"><span class="fa fa-star"></span></a>
                                            <a href="#"><span class="fa fa-star-o"></span></a>
                                        </p>
                                    </div>*@
                                            <div class="col-xs-12 col-sm-12 emphasis text-right">
                                                <a href="javascript:void(0)"
                                                   onclick="ShowView('@Url.Action("View", "SStoreInformation", new { @id = item.ID })')"
                                                   class="btn btn-primary btn-xs view details"><i class="fa fa-eye"></i>&nbsp;@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("View"))</a>
                                                <a href="javascript:void(0)"
                                                   onclick="ShowView('@Url.Action("Edit", "SStoreInformation", new { @id = item.ID })')"
                                                   class="btn btn-info btn-xs edit details"><i class="fa fa-edit"></i>&nbsp;@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Edit"))</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        }
                    }
                }
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    function ShowView(url) {
        ShowViewOrEdit(url);
        return false;
    }
    $(document).ready(function () {
        var handleDataTableButtons = function () {
            if ($("#datatable-buttons").length) {
                $("#datatable-buttons").DataTable({

                    dom: "Bfrtip",
                    responsive: true
                });
            }
        };

        TableManageButtons = function () {
            "use strict";
            return {
                init: function () {
                    handleDataTableButtons();
                }
            };
        }();

        $('#datatable').dataTable();
        $('#datatable-keytable').DataTable({
            keys: true
        });

        var table = $('#datatable-responsive').DataTable({
            "columnDefs": [
                { "orderable": false, "targets": [4] },
                { "width": "5%", "targets": 1 },
                { "width": "5%", "targets": 2 },
                { "width": "5%", "targets": 3 },
                { "width": "8%", "targets": 4 },
            ]
        });

        var table = $('#datatable-fixed-header').DataTable({
            fixedHeader: true
        });

        TableManageButtons.init();
    });
</script>