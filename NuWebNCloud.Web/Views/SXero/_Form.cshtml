@using NuWebNCloud.Shared.Utilities;
@using NuWebNCloud.Shared
@model NuWebNCloud.Shared.Models.Settings.XeroSettingModels
@{
    Html.EnableUnobtrusiveJavaScript(true);
    var user = Session["User"] as NuWebNCloud.Shared.Models.UserSession;
}
@Html.HiddenFor(model => Model.StoreID)
@Html.HiddenFor(model => Model.StoreName)

<style>
    .table {
        padding-bottom: 0px !important;
    }

    .clsdatatable td {
        vertical-align: middle !important;
    }
</style>

<div class="row form-horizontal form-label-left" style="margin-bottom:15px;">
    <div class="form-group">
        <label class="control-label col-md-1 col-sm-1 col-xs-12"></label>
        <div class="col-md-6 col-sm-6 col-xs-12"><h3>@Model.StoreName</h3></div>        
    </div>
    <table class="nowrap table jambo_table bulk_action clsdatatable" cellspacing="0" style="width:100%; display: table;">
        <tbody>
            @*Business Date Settings*@
            <tr style="background-color: #34495e; width: 100%; color: #fff; ">
                <td colspan="6">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Business Date Settings"))</td>
            </tr>
            <tr>
                <td class="td1">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Cost of goods sold"))</td>
                <td class="td2">
                    <div class="form-group">
                        @Html.DropDownListFor(model => model.CostOfGoodSold, (SelectList)ViewBag.ListAccount, "Select Account", new
                           {
                               @class = "form-control select2_multiple",
                               @id = "idCostOfGoodSold",
                               //@multiple = "multiple",
                               @style = "width:100%;"
                           })
                    </div>
                </td>
                <td class="td3">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Stock on-hand"))</td>
                <td class="td4">
                    <div class="form-group">
                        @Html.DropDownListFor(model => model.StockOnHand, (SelectList)ViewBag.ListAccount, "Select Account", new
                           {
                               @class = "form-control select2_multiple",
                               @id = "idStockOnHand",
                               //@multiple = "multiple",
                               @style = "width:100%;"
                           })
                    </div>
                </td>
                <td class="td5">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Post of goods sold to vend"))</td>
                <td class="text-right td6">@Html.CheckBoxFor(model => model.IsPostToVend, new { @class = "js-switch-chk" })</td>
            </tr>
            <tr>
                <td class="td1">
                    @Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Miscellaneous"))
                </td>
                <td class="td2">
                    <div class="form-group">
                        @Html.DropDownListFor(model => model.Miscellaneous, (SelectList)ViewBag.ListAccount, "Select Account", new
                          {
                              @class = "form-control select2_multiple",
                              @id = "idMiscellaneous",
                              //@multiple = "multiple",
                              @style = "width:100%;"
                          })
                    </div>
                </td>
                <td class="td3"></td>
                <td class="td4"></td>
                <td class="td5"></td>
                <td class="td6"></td>
            </tr>
            @*Inventory Orders and Account Sales*@
            <tr style="background-color: #34495e; width: 100%; color: #fff; ">
                <td colspan="6">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Inventory Orders and Account Sales"))</td>
            </tr>
            <tr>
                <td class="td1">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Send bill as"))</td>
                <td class="td2">
                    <div class="form-group">
                        @Html.DropDownListFor(model => model.SendBillAs,
                          new SelectList(Model.ListInvoice, "Value", "Text", Model.SendBillAs), null,
                          new
                          {
                              @class = "form-control select2_multiple",
                              @id = "InvoiceDdl",
                              @style = "width:100%;"
                          })
                    </div>
                </td>
                <td class="td3"></td>
                <td class="td4"></td>
                <td class="td5"></td>
                <td class="td6"></td>
            </tr>
            @*Accounts for Payments*@
            <tr style="background-color: #34495e; width: 100%; color: #fff; ">
                <td colspan="6">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Accounts for Payments"))</td>
            </tr>
            <tr>
                <td class="td1">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Rouding errors"))</td>
                <td class="td2">
                    <div class="form-group">
                        @Html.DropDownListFor(model => model.RoundingError, (SelectList)ViewBag.ListAccount, "Select Account", new
                          {
                              @class = "form-control select2_multiple",
                              @id = "idRoundingError",
                              //@multiple = "multiple",
                              @style = "width:100%;"
                          })
                    </div>
                </td>
                <td class="td3">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Default discount account"))</td>
                <td class="td4">
                    <div class="form-group">
                        @Html.DropDownListFor(model => model.DiscountAccount, (SelectList)ViewBag.ListAccount, "Select Account", new
                          {
                              @class = "form-control select2_multiple",
                              @id = "idDiscountAccount",
                              //@multiple = "multiple",
                              @style = "width:100%;"
                          })
                    </div>
                </td>
                <td class="td5"></td>
                <td class="td6"></td>
            </tr>
            @*Accounts for Liability and Expiry*@
            <tr style="background-color: #34495e; width: 100%; color: #fff; ">
                <td colspan="6">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Accounts for Liability and Expiry"))</td>
            </tr>
            <tr>
                <td class="td1">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Loyalty liability"))</td>
                <td class="td2">
                    <div class="form-group">
                        @Html.DropDownListFor(model => model.LoyaltyLiability, (SelectList)ViewBag.ListAccount, "Select Account", new
                          {
                              @class = "form-control select2_multiple",
                              @id = "idLoyaltyLiability",
                              //@multiple = "multiple",
                              @style = "width:100%;"
                          })
                    </div>
                </td>
                <td class="td3">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Loyalty expense"))</td>
                <td class="td4">
                    <div class="form-group">
                        @Html.DropDownListFor(model => model.Loyaltyexpense, (SelectList)ViewBag.ListAccount, "Select Account", new
                          {
                              @class = "form-control select2_multiple",
                              @id = "idLoyaltyexpense",
                              //@multiple = "multiple",
                              @style = "width:100%;"
                          })
                    </div>
                </td>
                <td class="td5">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Gift card liability"))</td>
                <td class="td6">
                    <div class="form-group">
                        @Html.DropDownListFor(model => model.GCLiability, (SelectList)ViewBag.ListAccount, "Select Account", new
                          {
                              @class = "form-control select2_multiple",
                              @id = "idGCLiability",
                              //@multiple = "multiple",
                              @style = "width:100%;"
                          })
                    </div>
                </td>
            </tr>
            @*Accounts for Cash Management*@
            <tr style="background-color: #34495e; width: 100%; color: #fff; ">
                <td colspan="6">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Accounts for Cash Management"))</td>
            </tr>
            <tr>
                <td class="td1">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Deposit"))</td>
                <td class="td2">
                    <div class="form-group">
                        @Html.DropDownListFor(model => model.Deposit, (SelectList)ViewBag.ListAccount, "Select Account", new
                          {
                              @class = "form-control select2_multiple",
                              @id = "idDeposit",
                              //@multiple = "multiple",
                              @style = "width:100%;"
                          })
                    </div>
                </td>
                <td class="td3">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Payout"))</td>
                <td class="td4">
                    <div class="form-group">
                        @Html.DropDownListFor(model => model.Payout, (SelectList)ViewBag.ListAccount, "Select Account", new
                          {
                              @class = "form-control select2_multiple",
                              @id = "idPayout",
                              //@multiple = "multiple",
                              @style = "width:100%;"
                          })
                    </div>
                </td>
                <td class="td5">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Till payment discrepancies"))</td>
                <td class="td6">
                    <div class="form-group">
                        @Html.DropDownListFor(model => model.TillPaymentDiscrepanceis, (SelectList)ViewBag.ListAccount, "Select Account", new
                          {
                              @class = "form-control select2_multiple",
                              @id = "idTillPaymentDiscrepanceis",
                              //@multiple = "multiple",
                              @style = "width:100%;"
                          })
                    </div>
                </td>
            </tr>
            <tr>
                <td class="td1">
                    @Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Cash float"))
                </td>
                <td class="td2">
                    <div class="form-group">
                        @Html.DropDownListFor(model => model.CashFloat, (SelectList)ViewBag.ListAccount, "Select Account", new
                           {
                               @class = "form-control select2_multiple",
                               @id = "idCashFloat",
                               //@multiple = "multiple",
                               @style = "width:100%;"
                           })
                    </div>
                </td>
                <td class="td3">
                    @Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Refund by gift card"))
                </td>
                <td class="td4">
                    <div class="form-group">
                        @Html.DropDownListFor(model => model.RefundByGC, (SelectList)ViewBag.ListAccount, "Select Account", new
                          {
                              @class = "form-control select2_multiple",
                              @id = "idRefundByGC",
                              //@multiple = "multiple",
                              @style = "width:100%;"
                          })
                    </div>
                </td>
                <td class="td5">
                    @Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Return gift card as Cash"))
                </td>
                <td class="td6">
                    <div class="form-group">
                        @Html.DropDownListFor(model => model.ReturnGCAsCash, (SelectList)ViewBag.ListAccount, "Select Account", new
                          {
                              @class = "form-control select2_multiple",
                              @id = "idReturnGCAsCash",
                              //@multiple = "multiple",
                              @style = "width:100%;"
                          })
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<script src="@Url.Content("~/build/js/SwitchJS.js")"></script>
<script type="text/javascript">
    $(document).ready(function () {
        var handleDataTableButtons = function () {
            if ($("#datatable-buttons").length) {
                $("#datatable-buttons").DataTable({

                    dom: "Bfrtip",
                    responsive: true
                });
            }
        };

        TableManageButtons = function () {
            "use strict";
            return {
                init: function () {
                    handleDataTableButtons();
                }
            };
        }();

        $('#datatable').dataTable();
        $('#datatable-keytable').DataTable({
            keys: true
        });

        //var table = $('#datatable-responsive').DataTable({
        //    "columnDefs": [
        //        { "orderable": false, "targets": [1, 2, 3 , 4, 5, 6, 7] },
        //        { "width": "15%", "targets": [0, 1, 2, 3, 4, 5, 6] },
        //    ],
        //});

        //// Order by the grouping
        //$('#datatable-responsive tbody').on( 'click', 'tr.group', function () {
        //    debugger;
        //    var val="";
        //    var currentOrder = table.order()[0];
        //    if ( currentOrder[0] === 2 && currentOrder[1] === 'asc' ) {
        //        table.order( [ 2, 'desc' ] ).draw();
        //    }
        //    else {
        //        table.order( [ 2, 'asc' ] ).draw();
        //    }
        //} );

        var table = $('#datatable-fixed-header').DataTable({
            fixedHeader: true
        });

        TableManageButtons.init();
    });
</script>