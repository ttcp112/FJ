@model NuWebNCloud.Shared.Integration.Models.Sandbox.Inventory.Product.InteGroupProductModels
@using NuWebNCloud.Shared.Utilities;
<tr class="ListProductGroup_@Model.StoreID trTabOffSet" data-id="@Model.ID" style='@string.Format("display:{0}", Model.Status== 9 ? "none" : "table-row")' >
    <td>
        @Html.Hidden(string.Format("ListProductOnStore[{0}].ListProductGroup[{1}].OffSet", Model.StoreOffSet, Model.OffSet), Model.OffSet, new { @Value = Model.OffSet })
        @Html.Hidden(string.Format("ListProductOnStore[{0}].ListProductGroup[{1}].Status", Model.StoreOffSet, Model.OffSet), Model.Status, new { @class = "GroupStatus", @Value = Model.Status })
        @Html.Hidden(string.Format("ListProductOnStore[{0}].ListProductGroup[{1}].SetMenuID", Model.StoreOffSet, Model.OffSet), Model.SetMenuID, new { @Value = Model.SetMenuID })
        @Html.Hidden(string.Format("ListProductOnStore[{0}].ListProductGroup[{1}].ID", Model.StoreOffSet, Model.OffSet), Model.ID, new { @Value = Model.ID })
        @Html.Hidden(string.Format("ListProductOnStore[{0}].ListProductGroup[{1}].StoreID", Model.StoreOffSet, Model.OffSet), Model.StoreID, new { @Value = Model.StoreID })
        @Html.Hidden(string.Format("ListProductOnStore[{0}].ListProductGroup[{1}].StoreOffSet", Model.StoreOffSet, Model.OffSet), Model.StoreOffSet, new { @Value = Model.StoreOffSet })

        @Html.TextBox(string.Format("ListProductOnStore[{0}].ListProductGroup[{1}].Sequence", Model.StoreOffSet, Model.OffSet), Model.Sequence, new
   {
       @class = "form-control input-number",
       @type = "number",
       @id = "SequencePG",
       @maxlength = 2,
       @min = 0,
       @Value = Model.Sequence
   })
    </td>
    <td>
        @Html.TextBox(string.Format("ListProductOnStore[{0}].ListProductGroup[{1}].Name", Model.StoreOffSet, Model.OffSet), Model.Name, new
   {
       @class = "form-control",
       @placeholder = "" + _AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Tab's Name") + "",
       @id="TabNamePG",
       @Value = Model.Name
   })
        @Html.ValidationMessage(string.Format("ListProductOnStore[{0}].ListProductGroup[{1}].Name", Model.StoreOffSet, Model.OffSet))
    </td>
    <td>
        @Html.TextBox(string.Format("ListProductOnStore[{0}].ListProductGroup[{1}].Description", Model.StoreOffSet, Model.OffSet), Model.Description, new
   {
       @class = "form-control",
       @placeholder = "" + _AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Display Message") + "",
       @id="DiscriptionPG",
       @Value = Model.Description
   })
        @Html.ValidationMessage(string.Format("ListProductOnStore[{0}].ListProductGroup[{1}].Description", Model.StoreOffSet, Model.OffSet))
    </td>
    <td>
        @Html.TextBox(string.Format("ListProductOnStore[{0}].ListProductGroup[{1}].Maximum", Model.StoreOffSet, Model.OffSet), Model.Maximum, new
   {
       @class = "form-control input-number",
       @type = "number",
       @min = 0,
       @maxlength = 2,
       @id="MaximumPG",
       @Value = Model.Maximum
   })
        @Html.ValidationMessage(string.Format("ListProductOnStore[{0}].ListProductGroup[{1}].Maximum", Model.StoreOffSet, Model.OffSet))
    </td>
    <td>
        @Html.DropDownList(string.Format("ListProductOnStore[{0}].ListProductGroup[{1}].GroupType", Model.StoreOffSet, Model.OffSet),
               new SelectList(Model.ListModifierType, "Value", "Text", Model.GroupType),
               null,
               new
               {
                   @class = "form-control select2_multiple ddlModifierType",
                   @style = "width:100%;"
               })
        @Html.ValidationMessage(string.Format("ListProductOnStore[{0}].ListProductGroup[{1}].GroupType", Model.StoreOffSet, Model.OffSet))
    </td>
    <td><button class="btn bg-fnb" type="button" onclick="ShowModalAddModifierOrDish(this, '@Model.StoreID')">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Add Modifiers"))</button> </td>
    <td width="50px">
        <a href="#" onclick="DeleteTabPanel(this); return false;" style="font-size:28px; color:red;">
            <i class="fa fa-remove"></i>
        </a>
        <!-- Modal Add Modifiers-->
        <div class="modal fade" id="modalDish" tabindex="-1" role="dialog" aria-labelledby="modalDishLabel" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Add Modifiers"))</h4>
                    </div>
                    <div class="modal-body scroll popupTabConent-@Model.StoreID" @*id="popupTabConent-@Model.StoreID-@Model.OffSet"*@>
                        <div class="form-group-sm">
                            <table class="table center-content">
                                <thead>
                                    <tr style="background-color:#34495e; color:#fff;">
                                        <th width="10%">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Sequence"))</th>
                                        <th width="50%">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Modifier"))</th>
                                        <th width="20%">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Extra Price"))</th>
                                        <th width="10%"></th>
                                    </tr>
                                </thead>
                                <tbody id="body-dishes">
                                    @if (Model.ListProductOnGroup != null && Model.ListProductOnGroup.Count > 0)
                                    {
                                        @Html.Partial("_DishModal", Model)
                                    }
                                    <tr id="tr-add-more-dish_@Model.StoreID-@Model.StoreOffSet-@Model.OffSet">
                                        <td colspan="4" style="padding-top:12px; text-align:left">
                                            <a href="#" data-toggle="modal" data-target="#modal-choose-dishes_@Model.StoreID"
                                               class="a-fnb" data-whatever="@Model.OffSet"
                                               style="font-size:14px; color:#34495e;">
                                                <i class="fa fa-plus"></i>
                                                <span>@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Add more"))</span>
                                            </a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <span></span>
                        <button class="btn btn-default" onclick="PasteHtml($(this).parents('.modal-content:first').find('table > tbody'));" data-dismiss="modal">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Cancel"))</button>
                        <button id="btn-save-dish" type="button" class="btn btn-beauty bg-fnb" data-dismiss="modal">@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Save Changes"))</button>
                    </div>
                </div>
            </div>
        </div>
    </td>
</tr>

<script type="text/javascript">
    $(document).ready(function () {
        $(".ddlModifierType").select2({
            placeholder: "@Html.Raw(_AttributeForLanguage.CurrentUser.GetLanguageTextFromKey("Please choose Modifier Type"))",
        });
    });
</script>