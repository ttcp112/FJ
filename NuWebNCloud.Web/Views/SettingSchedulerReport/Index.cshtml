@model NuWebNCloud.Shared.Models.Settings.SettingSchedulerTaskViewModels
@{
    ViewBag.Title = "Scheduler Report";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div role="main" class="right_col">
    <div class="se-pre-con" style="display: none;"></div>
    <div class="gridview">
        <div class="page-title">
            <div class="title_left" style="padding: 10px 0px;">
                @Html.Partial("~/Views/Shared/_breadcrumb.cshtml",
                        new Dictionary<string, string> { { "A", "Settings" }, { "B", "Scheduled Reports" }, { "C", "View Data" } })
            </div>
        </div>
        <div class="clearfix"></div>
        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_title">
                    @Html.Partial("_TabMenu", "view")
                    <div class="clearfix"></div>
                </div>
                <div class="x_content">
                    <div class="table-responsive">
                        <div class="x_panel">
                            <div class="x_title">
                                <h2>Scheduler Report</h2>
                                <div class="clearfix"></div>
                            </div>
                            <div class="x_content">
                                <table id="datatable-responsive" class="table table-striped table-bordered dt-responsive nowrap table table-striped jambo_table bulk_action" cellspacing="0" style="width:100%;">
                                    <thead style="background-color:#34495e; color:#fff;">
                                        <tr>
                                            <th style="text-align:center;">Name</th>
                                            <th style="text-align:center;">Store</th>
                                            <th style="text-align:center;">Email</th>
                                            @*<th style="text-align:center;">Day of Week</th>*@
                                            <th style="text-align:center;">Time</th>
                                            <th style="text-align:center;">Daily</th>
                                            <th style="text-align:center;">Monthly</th>
                                            <th style="text-align:center;">Status</th>
                                            <th style="text-align:center;">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @if (Model.ListSchedulerTaskModels != null)
                                        {
                                            for (int i = 0; i < Model.ListSchedulerTaskModels.Count; i++)
                                            {
                                                string styleRow = "row-evenItem";
                                                if (i % 2 == 0)
                                                {
                                                    styleRow = "row-oddItem";
                                                }
                                                <tr class="@styleRow">
                                                    <td style="color:#34495e; font-weight:bold;">
                                                        @Model.ListSchedulerTaskModels[i].ReportName
                                                    </td>
                                                    <td><span style="color:#c7254e; font-weight:bold;">@Model.ListSchedulerTaskModels[i].StoreName</span></td>
                                                    <td>
                                                        <strong>Subject</strong>: @Model.ListSchedulerTaskModels[i].EmailSubject <br />
                                                        <strong>Email</strong>: @Model.ListSchedulerTaskModels[i].Email <br />
                                                        <strong>Cc</strong>: @Model.ListSchedulerTaskModels[i].Cc <br />
                                                        <strong>Bcc</strong>: @Model.ListSchedulerTaskModels[i].Bcc
                                                    </td>
                                                    @*<td style="text-align:left; color:#c7254e;">@Html.Raw(Model.ListSchedulerTaskModels[i].DayOfWeeks.Replace(",", "<br />"))</td>*@
                                                    <td style="text-align:center;">@Model.ListSchedulerTaskModels[i].Hour : @Model.ListSchedulerTaskModels[i].Minute</td>
                                                    <td style="text-align:center;">
                                                        @if (Model.ListSchedulerTaskModels[i].IsDaily)
                                                        {
                                                            <span class="label label-success">True</span>
                                                        }
                                                        else
                                                        {
                                                            <span class="label label-danger">False</span>
                                                        }
                                                    </td>
                                                    <td style="text-align:center;">
                                                        @if (Model.ListSchedulerTaskModels[i].IsMonth)
                                                        {
                                                            <span class="label label-success">True</span>
                                                        }
                                                        else
                                                        {
                                                            <span class="label label-danger">False</span>
                                                        }
                                                    </td>
                                                    <td style="text-align:center;">
                                                        @if (Model.ListSchedulerTaskModels[i].Enabled)
                                                        {
                                                            <span class="label label-success">Active</span>
                                                        }
                                                        else
                                                        {
                                                            <span class="label label-danger">Inactive</span>
                                                        }
                                                    </td>

                                                    <td style="text-align:center;">
                                                        <a href="javascript:void(0);" onclick="ShowView('@Url.Action("View", "SettingSchedulerReport", new { id = Model.ListSchedulerTaskModels[i].ID, StoreId = Model.ListSchedulerTaskModels[i].StoreId })')"
                                                           class="btn btn-primary btn-xs view details"><i class="fa fa-eye"></i>&nbsp;View</a>&nbsp;&nbsp;
                                                        <a href="javascript:void(0);" onclick="ShowView('@Url.Action("Edit", "SettingSchedulerReport", new { id = Model.ListSchedulerTaskModels[i].ID, StoreId = Model.ListSchedulerTaskModels[i].StoreId })')"
                                                           class="btn btn-info btn-xs edit details"><i class="fa fa-edit"></i>&nbsp;Edit</a>&nbsp;&nbsp;
                                                        <a href="javascript:void(0);" onclick="ShowView('@Url.Action("Delete", "SettingSchedulerReport", new { id = Model.ListSchedulerTaskModels[i].ID, StoreId = Model.ListSchedulerTaskModels[i].StoreId })')"
                                                           class="btn btn-danger btn-xs delete details"><i class="fa fa-trash-o"></i>&nbsp;Delete</a>
                                                    </td>
                                                </tr>
                                            }
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="detail-view" style="height:100%;">
        <!-- detail partial view -->
    </div>
</div>

@section Scripts{
    <script type="text/javascript">
        function ShowView(url) {
            ShowViewOrEdit(url);
            return false;
        }
    </script>

    <!-- Datatables -->
    @Scripts.Render("~/vendors/datatables.net/js/jquery.dataTables.min.js")
    @Scripts.Render("~/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js")
    @Scripts.Render("~/vendors/datatables.net-responsive/js/dataTables.responsive.min.js")
    @Scripts.Render("~/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js")
    @Scripts.Render("~/vendors/datatables.net-scroller/js/datatables.scroller.min.js")
    <script>
        $(document).ready(function () {
            var handleDataTableButtons = function () {
                if ($("#datatable-buttons").length) {
                    $("#datatable-buttons").DataTable({
                        dom: "Bfrtip",
                        buttons: [
                          {
                              extend: "copy",
                              className: "btn-sm"
                          },
                          {
                              extend: "csv",
                              className: "btn-sm"
                          },
                          {
                              extend: "excel",
                              className: "btn-sm"
                          },
                          {
                              extend: "pdfHtml5",
                              className: "btn-sm"
                          },
                          {
                              extend: "print",
                              className: "btn-sm"
                          },
                        ],
                        responsive: true
                    });
                }
            };

            TableManageButtons = function () {
                "use strict";
                return {
                    init: function () {
                        handleDataTableButtons();
                    }
                };
            }();

            $('#datatable').dataTable();
            $('#datatable-keytable').DataTable({
                keys: true
            });

            $('#datatable-responsive').DataTable({
                "columnDefs": [
                    { "orderable": false, "targets": 3 }
                ]
            });

            $('#datatable-scroller').DataTable({
                ajax: "js/datatables/json/scroller-demo.json",
                deferRender: true,
                scrollY: 380,
                scrollCollapse: true,
                scroller: true
            });

            var table = $('#datatable-fixed-header').DataTable({
                fixedHeader: true
            });

            TableManageButtons.init();
        });
    </script>
    <!-- /Datatables -->
}